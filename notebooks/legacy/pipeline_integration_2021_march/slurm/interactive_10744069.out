['00_6_run_GPU_methods.py', '0']
pytorch + cuda
1.8.0
2.7.0
scgen
# of detected devices 2
0 /device:CPU:0
1 /device:GPU:0
query 0
method                                         scanvi_E100_L2_H256
hvg                                                           3000
cell_type_key                                                  NaN
input            /lustre/groups/ml01/workspace/ignacio.ibarra/t...
output           /lustre/groups/ml01/workspace/ignacio.ibarra/t...
nepochs                                                      100.0
nlayers                                                        2.0
nhidden                                                      256.0
Name: 0, dtype: object
# epochs 100.0
True /lustre/groups/ml01/workspace/ignacio.ibarra/theislab/retinal_scRNAseq_integration/data/integration_march_2021/output/retinal_all_cells_Chenfixed+Hackney_batch_donor_dataset_cell.type/prepare/unscaled/HVG.3K/adata_pre.h5ad
False /lustre/groups/ml01/workspace/ignacio.ibarra/theislab/retinal_scRNAseq_integration/data/integration_march_2021/output/retinal_all_cells_Chenfixed+Hackney_batch_donor_dataset_cell.type/integration/unscaled/HVG.3K/scanvi_E100_L2_H256.h5ad

False /lustre/groups/ml01/workspace/ignacio.ibarra/theislab/retinal_scRNAseq_integration/data/integration_march_2021/output/retinal_all_cells_Chenfixed+Hackney_batch_donor_dataset_cell.type/integration/unscaled/HVG.3K/scanvi_E100_L2_H256_embed.csv
reading input...
location of scripts...
<module 'scIB.integration' from '/home/icb/ignacio.ibarra/miniconda3/envs/scIB-python/lib/python3.7/site-packages/scIB/integration.py'>
(568985, 3000)
scanvi
[34mINFO    [0m Remapping batch_indices to [1m[[0m[1;36m0[0m,N[1m][0m                                       
[34mINFO    [0m Remapping labels to [1m[[0m[1;36m0[0m,N[1m][0m                                              
[34mINFO    [0m Computing the library size for the new data                            
[34mINFO    [0m Downsampled from [1;36m568985[0m to [1;36m568985[0m cells                                
scANVI dataset object with 46 batches and 11 cell types
# epochs scVI 100
# epochs scANVI 10
# layers 2
# hidden 256
[34mINFO    [0m KL warmup phase exceeds overall training phaseIf your applications rely
         on the posterior quality, consider training for more epochs or reducing
         the kl warmup.                                                         
[34mINFO    [0m KL warmup for [1;36m400[0m epochs                                               
training:   0%|          | 0/100 [00:00<?, ?it/s]training:   1%|          | 1/100 [04:41<7:44:51, 281.73s/it]training:   2%|▏         | 2/100 [09:23<7:40:13, 281.77s/it]training:   3%|▎         | 3/100 [14:04<7:35:00, 281.45s/it]training:   4%|▍         | 4/100 [18:44<7:29:22, 280.86s/it]training:   5%|▌         | 5/100 [23:25<7:24:51, 280.96s/it]training:   6%|▌         | 6/100 [28:05<7:19:27, 280.50s/it]training:   7%|▋         | 7/100 [32:50<7:16:55, 281.88s/it]training:   8%|▊         | 8/100 [37:31<7:12:06, 281.81s/it]training:   9%|▉         | 9/100 [42:10<7:05:52, 280.80s/it]training:  10%|█         | 10/100 [46:49<7:00:24, 280.27s/it]training:  11%|█         | 11/100 [51:31<6:56:41, 280.92s/it]training:  12%|█▏        | 12/100 [56:13<6:52:24, 281.18s/it]training:  13%|█▎        | 13/100 [1:00:54<6:47:45, 281.22s/it]training:  14%|█▍        | 14/100 [1:05:33<6:42:04, 280.51s/it]training:  15%|█▌        | 15/100 [1:10:14<6:37:22, 280.50s/it]training:  16%|█▌        | 16/100 [1:14:54<6:32:45, 280.55s/it]training:  17%|█▋        | 17/100 [1:19:33<6:27:17, 279.96s/it]training:  18%|█▊        | 18/100 [1:24:13<6:22:37, 279.97s/it]training:  19%|█▉        | 19/100 [1:28:54<6:18:23, 280.29s/it]training:  20%|██        | 20/100 [1:33:34<6:13:35, 280.20s/it]training:  21%|██        | 21/100 [1:38:13<6:08:25, 279.81s/it]training:  22%|██▏       | 22/100 [1:42:55<6:04:49, 280.63s/it]training:  23%|██▎       | 23/100 [1:47:34<5:59:25, 280.07s/it]training:  24%|██▍       | 24/100 [1:52:15<5:54:56, 280.22s/it]training:  25%|██▌       | 25/100 [1:56:55<5:50:24, 280.32s/it]training:  26%|██▌       | 26/100 [2:01:37<5:46:10, 280.68s/it]training:  27%|██▋       | 27/100 [2:06:18<5:41:42, 280.86s/it]training:  28%|██▊       | 28/100 [2:10:57<5:36:10, 280.14s/it]training:  29%|██▉       | 29/100 [2:15:37<5:31:29, 280.13s/it]training:  30%|███       | 30/100 [2:20:16<5:26:26, 279.80s/it]training:  31%|███       | 31/100 [2:24:58<5:22:36, 280.53s/it]training:  32%|███▏      | 32/100 [2:29:40<5:18:19, 280.88s/it]training:  33%|███▎      | 33/100 [2:34:19<5:13:01, 280.32s/it]training:  34%|███▍      | 34/100 [2:38:59<5:08:17, 280.26s/it]training:  35%|███▌      | 35/100 [2:43:39<5:03:46, 280.41s/it]training:  36%|███▌      | 36/100 [2:48:21<4:59:27, 280.74s/it]training:  37%|███▋      | 37/100 [2:53:06<4:56:10, 282.08s/it]training:  38%|███▊      | 38/100 [2:57:55<4:53:41, 284.21s/it]training:  39%|███▉      | 39/100 [3:02:40<4:49:07, 284.38s/it]training:  40%|████      | 40/100 [3:07:23<4:43:52, 283.88s/it]training:  41%|████      | 41/100 [3:12:06<4:38:49, 283.54s/it]training:  42%|████▏     | 42/100 [3:16:50<4:34:17, 283.75s/it]training:  43%|████▎     | 43/100 [3:21:38<4:30:54, 285.17s/it]training:  44%|████▍     | 44/100 [3:26:18<4:24:37, 283.53s/it]training:  45%|████▌     | 45/100 [3:31:02<4:20:08, 283.79s/it]training:  46%|████▌     | 46/100 [3:35:44<4:14:44, 283.04s/it]training:  47%|████▋     | 47/100 [3:40:25<4:09:25, 282.37s/it]training:  48%|████▊     | 48/100 [3:45:04<4:03:50, 281.35s/it]training:  49%|████▉     | 49/100 [3:49:43<3:58:36, 280.72s/it]training:  50%|█████     | 50/100 [3:54:25<3:54:20, 281.21s/it]training:  51%|█████     | 51/100 [3:59:05<3:49:19, 280.80s/it]training:  52%|█████▏    | 52/100 [4:03:45<3:44:30, 280.63s/it]training:  53%|█████▎    | 53/100 [4:08:25<3:39:40, 280.44s/it]training:  54%|█████▍    | 54/100 [4:13:05<3:34:49, 280.21s/it]training:  55%|█████▌    | 55/100 [4:17:45<3:30:12, 280.27s/it]training:  56%|█████▌    | 56/100 [4:22:24<3:25:08, 279.75s/it]training:  57%|█████▋    | 57/100 [4:27:03<3:20:16, 279.46s/it]training:  58%|█████▊    | 58/100 [4:31:47<3:16:36, 280.88s/it]training:  59%|█████▉    | 59/100 [4:36:31<3:12:34, 281.81s/it]training:  60%|██████    | 60/100 [4:41:11<3:07:38, 281.47s/it]training:  61%|██████    | 61/100 [4:45:51<3:02:39, 281.02s/it]training:  62%|██████▏   | 62/100 [4:50:32<2:57:56, 280.97s/it]training:  63%|██████▎   | 63/100 [4:55:12<2:52:59, 280.52s/it]training:  64%|██████▍   | 64/100 [4:59:55<2:48:52, 281.47s/it]training:  65%|██████▌   | 65/100 [5:04:39<2:44:29, 281.99s/it]training:  66%|██████▌   | 66/100 [5:09:18<2:39:15, 281.06s/it]training:  67%|██████▋   | 67/100 [5:13:55<2:34:03, 280.10s/it]training:  68%|██████▊   | 68/100 [5:18:33<2:28:58, 279.34s/it]training:  69%|██████▉   | 69/100 [5:23:14<2:24:33, 279.79s/it]training:  70%|███████   | 70/100 [5:27:54<2:19:54, 279.83s/it]training:  71%|███████   | 71/100 [5:32:35<2:15:26, 280.23s/it]training:  72%|███████▏  | 72/100 [5:37:11<2:10:10, 278.94s/it]training:  73%|███████▎  | 73/100 [5:41:57<2:06:31, 281.18s/it]training:  74%|███████▍  | 74/100 [5:46:38<2:01:51, 281.20s/it]training:  75%|███████▌  | 75/100 [5:51:20<1:57:09, 281.18s/it]training:  76%|███████▌  | 76/100 [5:55:57<1:52:02, 280.12s/it]training:  77%|███████▋  | 77/100 [6:00:36<1:47:14, 279.78s/it]training:  78%|███████▊  | 78/100 [6:05:15<1:42:28, 279.49s/it]training:  79%|███████▉  | 79/100 [6:09:52<1:37:33, 278.75s/it]training:  80%|████████  | 80/100 [6:14:32<1:33:02, 279.10s/it]training:  81%|████████  | 81/100 [6:19:11<1:28:22, 279.08s/it]training:  82%|████████▏ | 82/100 [6:23:48<1:23:31, 278.39s/it]training:  83%|████████▎ | 83/100 [6:28:26<1:18:53, 278.43s/it]training:  84%|████████▍ | 84/100 [6:33:05<1:14:13, 278.35s/it]training:  85%|████████▌ | 85/100 [6:37:41<1:09:25, 277.68s/it]training:  86%|████████▌ | 86/100 [6:42:22<1:05:01, 278.65s/it]training:  87%|████████▋ | 87/100 [6:47:02<1:00:30, 279.29s/it]training:  88%|████████▊ | 88/100 [6:51:45<56:03, 280.32s/it]  training:  89%|████████▉ | 89/100 [6:56:25<51:22, 280.19s/it]training:  90%|█████████ | 90/100 [7:01:00<46:27, 278.77s/it]training:  91%|█████████ | 91/100 [7:05:33<41:31, 276.83s/it]training:  92%|█████████▏| 92/100 [7:10:05<36:43, 275.39s/it]training:  93%|█████████▎| 93/100 [7:14:39<32:04, 274.99s/it]training:  94%|█████████▍| 94/100 [7:19:12<27:26, 274.48s/it]training:  95%|█████████▌| 95/100 [7:23:45<22:50, 274.00s/it]training:  96%|█████████▌| 96/100 [7:28:14<18:09, 272.45s/it]training:  97%|█████████▋| 97/100 [7:32:44<13:35, 271.69s/it]training:  98%|█████████▊| 98/100 [7:37:16<09:04, 272.00s/it]training:  99%|█████████▉| 99/100 [7:41:48<04:32, 272.00s/it]training: 100%|██████████| 100/100 [7:46:22<00:00, 272.39s/it]training: 100%|██████████| 100/100 [7:46:22<00:00, 279.82s/it]
[34mINFO    [0m Training is still in warming up phase. If your applications rely on the
         posterior quality, consider training for more epochs or reducing the kl
         warmup.                                                                
[34mINFO    [0m KL warmup phase exceeds overall training phaseIf your applications rely
         on the posterior quality, consider training for more epochs or reducing
         the kl warmup.                                                         
[34mINFO    [0m KL warmup for [1;36m400[0m epochs                                               
training:   0%|          | 0/10 [00:00<?, ?it/s]training:  10%|█         | 1/10 [02:34<23:13, 154.80s/it]training:  20%|██        | 2/10 [05:06<20:23, 152.98s/it]training:  30%|███       | 3/10 [07:23<16:59, 145.69s/it]training:  40%|████      | 4/10 [09:36<14:03, 140.58s/it]training:  50%|█████     | 5/10 [12:06<11:59, 143.96s/it]training:  60%|██████    | 6/10 [14:44<09:55, 148.96s/it]training:  70%|███████   | 7/10 [17:14<07:27, 149.05s/it]training:  80%|████████  | 8/10 [19:36<04:53, 146.94s/it]training:  90%|█████████ | 9/10 [21:58<02:25, 145.43s/it]training: 100%|██████████| 10/10 [24:26<00:00, 146.10s/it]training: 100%|██████████| 10/10 [24:26<00:00, 146.62s/it]
[34mINFO    [0m Training is still in warming up phase. If your applications rely on the
         posterior quality, consider training for more epochs or reducing the kl
         warmup.                                                                
about to write to output scANVI...
